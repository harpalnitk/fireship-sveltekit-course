import{w as Y,J as ye,K as we,s as ne,L as Ht,e as vt,n as Ce,g as C,h as S,z as Z,k as L,i as N,c as A,d as U,A as Qt,F as Lt,u as Se,q as Le,r as Ee,G as se,v as _t,p as pt,H as Re,M as Ie,l as lt,m as it,y as Be,N as Jt,E as ht,I as De}from"../chunks/scheduler.c6bb22b0.js";import{u as Pe,w as Te,x as Oe,y as je,S as le,i as ie,d as F,v as oe,a as O,h as jt,t as tt,c as Nt,b as X,e as v,q as kt,z as Kt,g,A as Ne,n as w,p as Q,B as Ve,j as ae,k as re,m as ce,s as Wt,r as ue,l as fe}from"../chunks/index.c83e402d.js";import{U as de,g as Ae,a as Ue}from"../chunks/UserLink.45ba8977.js";import{p as wt}from"../chunks/stores.7df0c0c0.js";import{A as xe}from"../chunks/AuthCheck.9938e070.js";import{c as Fe}from"../chunks/index.40b40403.js";import{e as ft,a as Ct,u as St,n as Yt,Q as Xt,g as dt,o as Zt,f as bt}from"../chunks/firebase.c2bbda79.js";import{w as $t}from"../chunks/index.31c0fd71.js";function Me(n,t,e,l){if(!t)return Y;const s=n.getBoundingClientRect();if(t.left===s.left&&t.right===s.right&&t.top===s.top&&t.bottom===s.bottom)return Y;const{delay:a=0,duration:i=300,easing:c=ye,start:o=Pe()+a,end:d=o+i,tick:u=Y,css:m}=e(n,{from:t,to:s},l);let b=!0,r=!1,f;function _(){m&&(f=Oe(n,0,1,i,a,c,m)),a||(r=!0)}function y(){m&&je(n,f),b=!1}return Te(j=>{if(!r&&j>=o&&(r=!0),r&&j>=d&&(u(1,0),y()),!b)return!1;if(r){const x=j-o,q=0+1*c(x/i);u(q,1-q)}return!0}),_(),u(0,1),y}function ze(n){const t=getComputedStyle(n);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:e,height:l}=t,s=n.getBoundingClientRect();n.style.position="absolute",n.style.width=e,n.style.height=l,qe(n,s)}}function qe(n,t){const e=n.getBoundingClientRect();if(t.left!==e.left||t.top!==e.top){const l=getComputedStyle(n),s=l.transform==="none"?"":l.transform;n.style.transform=`${s} translate(${t.left-e.left}px, ${t.top-e.top}px)`}}function he(n,{from:t,to:e},l={}){const s=getComputedStyle(n),a=s.transform==="none"?"":s.transform,[i,c]=s.transformOrigin.split(" ").map(parseFloat),o=t.left+t.width*i/e.width-(e.left+i),d=t.top+t.height*c/e.height-(e.top+c),{delay:u=0,duration:m=r=>Math.sqrt(r)*120,easing:b=Fe}=l;return{delay:u,duration:we(m)?m(Math.sqrt(o*o+d*d)):m,easing:b,css:(r,f)=>{const _=f*o,y=f*d,j=r+f*t.width/e.width,x=r+f*t.height/e.height;return`transform: ${a} translate(${_}px, ${y}px) scale(${j}, ${x});`}}}const Vt="src/lib/components/SortableList.svelte";function gt(n,t,e){const l=n.slice();return l[9]=t[e],l[11]=e,l}const Ge=n=>({item:n&1,index:n&1}),te=n=>({item:n[9],index:n[11]});function me(n){let t,e="No items";const l={c:function(){t=C("p"),t.textContent=e,this.h()},l:function(a){t=S(a,"P",{class:!0,["data-svelte-h"]:!0}),Z(t)!=="svelte-1jmwi8z"&&(t.textContent=e),this.h()},h:function(){g(t,"class","text-center my-12 text-lg font-bold"),L(t,Vt,88,4,1866)},m:function(a,i){O(a,t,i)},p:Y,i:Y,o:Y,d:function(a){a&&v(t)}};return F("SvelteRegisterBlock",{block:l,id:me.name,type:"else",source:"(62:2) {:else}",ctx:n}),l}function _e(n){let t,e=[],l=new Map,s,a=kt(n[0]);const i=o=>o[9].id;Kt(n,a,gt,i);for(let o=0;o<a.length;o+=1){let d=gt(n,a,o),u=i(d);l.set(u,e[o]=Et(u,d))}const c={c:function(){t=C("ul");for(let d=0;d<e.length;d+=1)e[d].c();this.h()},l:function(d){t=S(d,"UL",{class:!0});var u=N(t);for(let m=0;m<e.length;m+=1)e[m].l(u);u.forEach(v),this.h()},h:function(){g(t,"class","list-none p-0 flex flex-col items-center"),L(t,Vt,67,4,1115)},m:function(d,u){O(d,t,u);for(let m=0;m<e.length;m+=1)e[m]&&e[m].m(t,null);s=!0},p:function(d,u){if(u&63){a=kt(d[0]),jt();for(let m=0;m<e.length;m+=1)e[m].r();Kt(d,a,gt,i),e=Ne(e,u,i,1,d,a,l,t,Ve,Et,null,gt);for(let m=0;m<e.length;m+=1)e[m].a();Nt()}},i:function(d){if(!s){for(let u=0;u<a.length;u+=1)X(e[u]);s=!0}},o:function(d){for(let u=0;u<e.length;u+=1)tt(e[u]);s=!1},d:function(d){d&&v(t);for(let u=0;u<e.length;u+=1)e[u].d()}};return F("SvelteRegisterBlock",{block:c,id:_e.name,type:"if",source:"(41:2) {#if list?.length}",ctx:n}),c}function Et(n,t){let e,l,s,a,i,c=Y,o,d,u;const m=t[6].default,b=Ce(m,t,t[5],te),r={key:n,first:null,c:function(){e=C("li"),b&&b.c(),l=A(),this.h()},l:function(_){e=S(_,"LI",{class:!0,"data-index":!0,"data-id":!0,draggable:!0});var y=N(e);b&&b.l(y),l=U(y),y.forEach(v),this.h()},h:function(){g(e,"class","border-2 border-dashed border-transparent p-2 transition-all max-w-md w-full s-bF1CfGpt5Wxa"),g(e,"data-index",s=t[11]),g(e,"data-id",a=t[9].id),g(e,"draggable","true"),Qt(e,"over",t[9].id===t[1]),L(e,Vt,70,8,1279),this.first=e},m:function(_,y){O(_,e,y),b&&b.m(e,null),w(e,l),o=!0,d||(u=[Q(e,"dragstart",pe,!1,!1,!1,!1),Q(e,"dragover",Lt(t[2]),!1,!0,!1,!1),Q(e,"dragleave",t[3],!1,!1,!1,!1),Q(e,"drop",Lt(t[4]),!1,!0,!1,!1)],d=!0)},p:function(_,y){t=_,b&&b.p&&(!o||y&33)&&Se(b,m,t,t[5],o?Ee(m,t[5],y,Ge):Le(t[5]),te),(!o||y&1&&s!==(s=t[11]))&&g(e,"data-index",s),(!o||y&1&&a!==(a=t[9].id))&&g(e,"data-id",a),(!o||y&3)&&Qt(e,"over",t[9].id===t[1])},r:function(){i=e.getBoundingClientRect()},f:function(){ze(e),c()},a:function(){c(),c=Me(e,i,he,{duration:300})},i:function(_){o||(X(b,_),o=!0)},o:function(_){tt(b,_),o=!1},d:function(_){_&&v(e),b&&b.d(_),d=!1,se(u)}};return F("SvelteRegisterBlock",{block:r,id:Et.name,type:"each",source:"(44:8) {#each list as item, index (item.id)}",ctx:t}),r}function Rt(n){let t,e,l,s;const a=[_e,me],i=[];function c(d,u){var m;return(m=d[0])!=null&&m.length?0:1}t=c(n),e=i[t]=a[t](n);const o={c:function(){e.c(),l=vt()},l:function(u){e.l(u),l=vt()},m:function(u,m){i[t].m(u,m),O(u,l,m),s=!0},p:function(u,[m]){let b=t;t=c(u),t===b?i[t].p(u,m):(jt(),tt(i[b],1,1,()=>{i[b]=null}),Nt(),e=i[t],e?e.p(u,m):(e=i[t]=a[t](u),e.c()),X(e,1),e.m(l.parentNode,l))},i:function(u){s||(X(e),s=!0)},o:function(u){tt(e),s=!1},d:function(u){u&&v(l),i[t].d(u)}};return F("SvelteRegisterBlock",{block:o,id:Rt.name,type:"component",source:"",ctx:n}),o}function rt(n){return n.dataset.index?{...n.dataset}:rt(n.parentNode)}function pe(n){var e;const t=rt(n.target);(e=n.dataTransfer)==null||e.setData("source",t==null?void 0:t.index.toString())}function He(n,t,e){let{$$slots:l={},$$scope:s}=t;oe("SortableList",l,["default"]);let{list:a}=t,i=!1;const c=Ht();function o(r){var _;(_=r.target.dataset)==null||_.id;const f=rt(r.target);e(1,i=(f==null?void 0:f.id)??!1)}function d(r){const f=rt(r.target);i===f.id&&e(1,i=!1)}function u(r){var _;e(1,i=!1);const f=rt(r.target);m({from:(_=r.dataTransfer)==null?void 0:_.getData("source"),to:f.index})}const m=({from:r,to:f})=>{const _=[...a];_[r]=[_[f],_[f]=_[r]][0],c("sort",_)};n.$$.on_mount.push(function(){a===void 0&&!("list"in t||n.$$.bound[n.$$.props.list])&&console.warn("<SortableList> was created without expected prop 'list'")});const b=["list"];return Object.keys(t).forEach(r=>{!~b.indexOf(r)&&r.slice(0,2)!=="$$"&&r!=="slot"&&console.warn(`<SortableList> was created with unknown prop '${r}'`)}),n.$$set=r=>{"list"in r&&e(0,a=r.list),"$$scope"in r&&e(5,s=r.$$scope)},n.$capture_state=()=>({flip:he,createEventDispatcher:Ht,list:a,isOver:i,dispatch:c,getDraggedParent:rt,onDragStart:pe,onDragOver:o,onDragLeave:d,onDrop:u,reorder:m}),n.$inject_state=r=>{"list"in r&&e(0,a=r.list),"isOver"in r&&e(1,i=r.isOver)},t&&"$$inject"in t&&n.$inject_state(t.$$inject),[a,i,o,d,u,s,l]}class be extends le{constructor(t){super(t),ie(this,t,He,Rt,ne,{list:0}),F("SvelteRegisterComponent",{component:this,tagName:"SortableList",options:t,id:Rt.name})}get list(){throw new Error("<SortableList>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set list(t){throw new Error("<SortableList>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const D="src/routes/[username]/edit/+page.svelte";function ee(n,t,e){const l=n.slice();return l[21]=t[e],l}function It(n){var Ft,Mt,zt;let t,e="Edit your Profile",l,s,a,i,c,o,d=((Ft=n[5])==null?void 0:Ft.username)+"",u,m,b,r,f,_="Change photo",y,j,x,q,M,E,I,T,P,K=(Mt=n[5])!=null&&Mt.published?"Public profile":"Private profile",V,h,k,B,z,H,$,ot,W,yt,At;H=new be({props:{list:(zt=n[5])==null?void 0:zt.links,$$slots:{default:[ge,({item:G,index:p})=>({24:G,25:p}),({item:G,index:p})=>(G?16777216:0)|(p?33554432:0)]},$$scope:{ctx:n}},$$inline:!0}),H.$on("sort",n[9]);function Ut(G,p){return G[3]?ke:ve}let mt=Ut(n),J=mt(n);const xt={c:function(){t=C("h1"),t.textContent=e,l=A(),s=C("div"),a=C("p"),i=lt(`Profile Link:\r
          `),c=C("a"),o=lt("http://localhost:5173//"),u=lt(d),b=A(),r=C("div"),f=C("a"),f.textContent=_,y=A(),j=C("a"),x=lt("Edit Bio"),M=A(),E=C("form"),I=C("label"),T=C("span"),P=C("div"),V=lt(K),h=A(),k=C("input"),z=A(),ae(H.$$.fragment),$=A(),J.c(),ot=vt(),this.h()},l:function(p){t=S(p,"H1",{class:!0,["data-svelte-h"]:!0}),Z(t)!=="svelte-zzls1r"&&(t.textContent=e),l=U(p),s=S(p,"DIV",{class:!0});var R=N(s);a=S(R,"P",{});var et=N(a);i=it(et,`Profile Link:\r
          `),c=S(et,"A",{href:!0,class:!0});var at=N(c);o=it(at,"http://localhost:5173//"),u=it(at,d),at.forEach(v),et.forEach(v),R.forEach(v),b=U(p),r=S(p,"DIV",{class:!0});var nt=N(r);f=S(nt,"A",{class:!0,href:!0,["data-svelte-h"]:!0}),Z(f)!=="svelte-1hnlagx"&&(f.textContent=_),y=U(nt),j=S(nt,"A",{class:!0,href:!0});var ct=N(j);x=it(ct,"Edit Bio"),ct.forEach(v),nt.forEach(v),M=U(p),E=S(p,"FORM",{class:!0});var ut=N(E);I=S(ut,"LABEL",{class:!0});var st=N(I);T=S(st,"SPAN",{class:!0});var qt=N(T);P=S(qt,"DIV",{class:!0,"data-tip":!0});var Gt=N(P);V=it(Gt,K),Gt.forEach(v),qt.forEach(v),h=U(st),k=S(st,"INPUT",{type:!0,class:!0}),st.forEach(v),ut.forEach(v),z=U(p),re(H.$$.fragment,p),$=U(p),J.l(p),ot=vt(),this.h()},h:function(){var p,R;g(t,"class","mx-2 text-2xl font-bold mt-8 mb-4 text-center"),L(t,D,89,6,1839),g(c,"href",m=`/${(p=n[5])==null?void 0:p.username}`),g(c,"class","link link-accent"),L(c,D,96,10,2029),L(a,D,94,8,1989),g(s,"class","text-center mb-8"),L(s,D,93,6,1949),g(f,"class","btn btn-outline btn-xs"),g(f,"href","/login/photo"),L(f,D,106,8,2282),g(j,"class","btn btn-outline btn-xs"),g(j,"href",q=`/${n[5].username}/bio`),L(j,D,107,8,2362),g(r,"class","text-center my-4"),L(r,D,105,6,2242),g(P,"class","tooltip group-hover:tooltip-open"),g(P,"data-tip","If public, the world can see your profile"),L(P,D,113,12,2631),g(T,"class","label-text mr-6"),L(T,D,112,10,2587),g(k,"type","checkbox"),g(k,"class","toggle toggle-success"),k.checked=B=(R=n[5])==null?void 0:R.published,L(k,D,120,10,2902),g(I,"class","label cursor-pointer flex items-start justify-center"),L(I,D,111,8,2507),g(E,"class","form-control"),L(E,D,110,6,2470)},m:function(p,R){O(p,t,R),O(p,l,R),O(p,s,R),w(s,a),w(a,i),w(a,c),w(c,o),w(c,u),O(p,b,R),O(p,r,R),w(r,f),w(r,y),w(r,j),w(j,x),O(p,M,R),O(p,E,R),w(E,I),w(I,T),w(T,P),w(P,V),w(I,h),w(I,k),O(p,z,R),ce(H,p,R),O(p,$,R),J.m(p,R),O(p,ot,R),W=!0,yt||(At=Q(k,"change",n[12],!1,!1,!1,!1),yt=!0)},p:function(p,R){var at,nt,ct,ut,st;(!W||R&32)&&d!==(d=((at=p[5])==null?void 0:at.username)+"")&&Wt(u,d),(!W||R&32&&m!==(m=`/${(nt=p[5])==null?void 0:nt.username}`))&&g(c,"href",m),(!W||R&32&&q!==(q=`/${p[5].username}/bio`))&&g(j,"href",q),(!W||R&32)&&K!==(K=(ct=p[5])!=null&&ct.published?"Public profile":"Private profile")&&Wt(V,K),(!W||R&32&&B!==(B=(ut=p[5])==null?void 0:ut.published))&&ue(k,"checked",B);const et={};R&32&&(et.list=(st=p[5])==null?void 0:st.links),R&83886080&&(et.$$scope={dirty:R,ctx:p}),H.$set(et),mt===(mt=Ut(p))&&J?J.p(p,R):(J.d(1),J=mt(p),J&&(J.c(),J.m(ot.parentNode,ot)))},i:function(p){W||(X(H.$$.fragment,p),W=!0)},o:function(p){tt(H.$$.fragment,p),W=!1},d:function(p){p&&(v(t),v(l),v(s),v(b),v(r),v(M),v(E),v(z),v($),v(ot)),fe(H,p),J.d(p),yt=!1,At()}};return F("SvelteRegisterBlock",{block:xt,id:It.name,type:"if",source:"(75:4) {#if $userData?.username == $page.params.username}",ctx:n}),xt}function ge(n){let t,e,l,s,a="Delete",i,c,o;const d=[n[24]];let u={};for(let r=0;r<d.length;r+=1)u=Re(u,d[r]);e=new de({props:u,$$inline:!0});function m(){return n[14](n[24])}const b={c:function(){t=C("div"),ae(e.$$.fragment),l=A(),s=C("button"),s.textContent=a,this.h()},l:function(f){t=S(f,"DIV",{class:!0});var _=N(t);re(e.$$.fragment,_),l=U(_),s=S(_,"BUTTON",{class:!0,["data-svelte-h"]:!0}),Z(s)!=="svelte-1n5cbwc"&&(s.textContent=a),_.forEach(v),this.h()},h:function(){g(s,"class","btn btn-xs btn-error invisible group-hover:visible transition-all absolute -right-6 bottom-10"),L(s,D,132,10,3288),g(t,"class","group relative"),L(t,D,130,8,3214)},m:function(f,_){O(f,t,_),ce(e,t,null),w(t,l),w(t,s),i=!0,c||(o=Q(s,"click",m,!1,!1,!1,!1),c=!0)},p:function(f,_){n=f;const y=_&16777216?Ae(d,[Ue(n[24])]):{};e.$set(y)},i:function(f){i||(X(e.$$.fragment,f),i=!0)},o:function(f){tt(e.$$.fragment,f),i=!1},d:function(f){f&&v(t),fe(e),c=!1,o()}};return F("SvelteRegisterBlock",{block:b,id:ge.name,type:"slot",source:"(116:6) <SortableList list={$userData?.links} on:sort={sortList} let:item let:index>",ctx:n}),b}function ve(n){let t,e="Add a Link",l,s;const a={c:function(){t=C("button"),t.textContent=e,this.h()},l:function(c){t=S(c,"BUTTON",{class:!0,["data-svelte-h"]:!0}),Z(t)!=="svelte-1l5hg7j"&&(t.textContent=e),this.h()},h:function(){g(t,"class","btn btn-outline btn-info block mx-auto my-4"),L(t,D,189,8,5062)},m:function(c,o){O(c,t,o),l||(s=Q(t,"click",n[18],!1,!1,!1,!1),l=!0)},p:Y,d:function(c){c&&v(t),l=!1,s()}};return F("SvelteRegisterBlock",{block:a,id:ve.name,type:"else",source:"(175:6) {:else}",ctx:n}),a}function ke(n){let t,e,l,s,a,i,c,o,d,u,m,b,r,f,_,y,j="Cancel",x,q,M=kt(n[7]),E=[];for(let V=0;V<M.length;V+=1)E[V]=Bt(ee(n,M,V));let I=!n[0]&&Dt(n),T=!n[1]&&Pt(n),P=n[4]&&Tt(n);const K={c:function(){t=C("form"),e=C("select");for(let h=0;h<E.length;h+=1)E[h].c();l=A(),s=C("input"),a=A(),i=C("input"),c=A(),o=C("div"),I&&I.c(),d=A(),T&&T.c(),u=A(),P&&P.c(),m=A(),b=C("button"),r=lt("Add Link"),_=A(),y=C("button"),y.textContent=j,this.h()},l:function(h){t=S(h,"FORM",{class:!0});var k=N(t);e=S(k,"SELECT",{name:!0,class:!0});var B=N(e);for(let $=0;$<E.length;$+=1)E[$].l(B);B.forEach(v),l=U(k),s=S(k,"INPUT",{name:!0,type:!0,placeholder:!0,class:!0}),a=U(k),i=S(k,"INPUT",{name:!0,type:!0,placeholder:!0,class:!0}),c=U(k),o=S(k,"DIV",{class:!0});var z=N(o);I&&I.l(z),d=U(z),T&&T.l(z),u=U(z),P&&P.l(z),z.forEach(v),m=U(k),b=S(k,"BUTTON",{type:!0,class:!0});var H=N(b);r=it(H,"Add Link"),H.forEach(v),_=U(k),y=S(k,"BUTTON",{type:!0,class:!0,["data-svelte-h"]:!0}),Z(y)!=="svelte-ptz3kb"&&(y.textContent=j),k.forEach(v),this.h()},h:function(){g(e,"name","icon"),g(e,"class","select select-sm"),n[2].icon===void 0&&Be(()=>n[15].call(e)),L(e,D,144,10,3705),g(s,"name","title"),g(s,"type","text"),g(s,"placeholder","Title"),g(s,"class","input input-sm"),L(s,D,154,10,3986),g(i,"name","url"),g(i,"type","text"),g(i,"placeholder","URL"),g(i,"class","input input-sm"),L(i,D,161,10,4180),g(o,"class","my-4"),L(o,D,168,10,4368),b.disabled=f=!n[4],g(b,"type","submit"),g(b,"class","btn btn-success block"),L(b,D,180,10,4777),g(y,"type","button"),g(y,"class","btn btn-xs my-4"),L(y,D,186,10,4937),g(t,"class","bg-base-200 p-6 w-full mx-auto rounded-xl"),L(t,D,140,8,3570)},m:function(h,k){O(h,t,k),w(t,e);for(let B=0;B<E.length;B+=1)E[B]&&E[B].m(e,null);Jt(e,n[2].icon,!0),w(t,l),w(t,s),ht(s,n[2].title),w(t,a),w(t,i),ht(i,n[2].url),w(t,c),w(t,o),I&&I.m(o,null),w(o,d),T&&T.m(o,null),w(o,u),P&&P.m(o,null),w(t,m),w(t,b),w(b,r),w(t,_),w(t,y),x||(q=[Q(e,"change",n[15]),Q(s,"input",n[16]),Q(i,"input",n[17]),Q(y,"click",n[13],!1,!1,!1,!1),Q(t,"submit",Lt(n[10]),!1,!0,!1,!1)],x=!0)},p:function(h,k){if(k&128){M=kt(h[7]);let B;for(B=0;B<M.length;B+=1){const z=ee(h,M,B);E[B]?E[B].p(z,k):(E[B]=Bt(z),E[B].c(),E[B].m(e,null))}for(;B<E.length;B+=1)E[B].d(1);E.length=M.length}k&132&&Jt(e,h[2].icon),k&132&&s.value!==h[2].title&&ht(s,h[2].title),k&132&&i.value!==h[2].url&&ht(i,h[2].url),h[0]?I&&(I.d(1),I=null):I||(I=Dt(h),I.c(),I.m(o,d)),h[1]?T&&(T.d(1),T=null):T||(T=Pt(h),T.c(),T.m(o,u)),h[4]?P||(P=Tt(h),P.c(),P.m(o,null)):P&&(P.d(1),P=null),k&16&&f!==(f=!h[4])&&ue(b,"disabled",f)},d:function(h){h&&v(t),De(E,h),I&&I.d(),T&&T.d(),P&&P.d(),x=!1,se(q)}};return F("SvelteRegisterBlock",{block:K,id:ke.name,type:"if",source:"(126:6) {#if showForm}",ctx:n}),K}function Bt(n){let t,e=n[21]+"",l;const s={c:function(){t=C("option"),l=lt(e),this.h()},l:function(i){t=S(i,"OPTION",{});var c=N(t);l=it(c,e),c.forEach(v),this.h()},h:function(){t.__value=n[21].toLowerCase(),ht(t,t.__value),L(t,D,151,14,3882)},m:function(i,c){O(i,t,c),w(t,l)},p:Y,d:function(i){i&&v(t)}};return F("SvelteRegisterBlock",{block:s,id:Bt.name,type:"each",source:"(137:12) {#each icons as icon}",ctx:n}),s}function Dt(n){let t,e="Must have valid title";const l={c:function(){t=C("p"),t.textContent=e,this.h()},l:function(a){t=S(a,"P",{class:!0,["data-svelte-h"]:!0}),Z(t)!=="svelte-1clkdjx"&&(t.textContent=e),this.h()},h:function(){g(t,"class","text-error text-xs"),L(t,D,170,14,4435)},m:function(a,i){O(a,t,i)},d:function(a){a&&v(t)}};return F("SvelteRegisterBlock",{block:l,id:Dt.name,type:"if",source:"(156:12) {#if !titleIsValid}",ctx:n}),l}function Pt(n){let t,e="Must have a valid URL";const l={c:function(){t=C("p"),t.textContent=e,this.h()},l:function(a){t=S(a,"P",{class:!0,["data-svelte-h"]:!0}),Z(t)!=="svelte-ckpz19"&&(t.textContent=e),this.h()},h:function(){g(t,"class","text-error text-xs"),L(t,D,173,14,4556)},m:function(a,i){O(a,t,i)},d:function(a){a&&v(t)}};return F("SvelteRegisterBlock",{block:l,id:Pt.name,type:"if",source:"(159:12) {#if !urlIsValid}",ctx:n}),l}function Tt(n){let t,e="Looks good!";const l={c:function(){t=C("p"),t.textContent=e,this.h()},l:function(a){t=S(a,"P",{class:!0,["data-svelte-h"]:!0}),Z(t)!=="svelte-18u4utf"&&(t.textContent=e),this.h()},h:function(){g(t,"class","text-success text-xs"),L(t,D,176,14,4677)},m:function(a,i){O(a,t,i)},d:function(a){a&&v(t)}};return F("SvelteRegisterBlock",{block:l,id:Tt.name,type:"if",source:"(162:12) {#if formIsValid}",ctx:n}),l}function Ot(n){var a;let t,e,l=((a=n[5])==null?void 0:a.username)==n[6].params.username&&It(n);const s={c:function(){t=C("main"),l&&l.c(),this.h()},l:function(c){t=S(c,"MAIN",{class:!0});var o=N(t);l&&l.l(o),o.forEach(v),this.h()},h:function(){g(t,"class","max-w-xl mx-auto"),L(t,D,87,2,1744)},m:function(c,o){O(c,t,o),l&&l.m(t,null),e=!0},p:function(c,[o]){var d;((d=c[5])==null?void 0:d.username)==c[6].params.username?l?(l.p(c,o),o&96&&X(l,1)):(l=It(c),l.c(),X(l,1),l.m(t,null)):l&&(jt(),tt(l,1,1,()=>{l=null}),Nt())},i:function(c){e||(X(l),e=!0)},o:function(c){tt(l),e=!1},d:function(c){c&&v(t),l&&l.d()}};return F("SvelteRegisterBlock",{block:s,id:Ot.name,type:"component",source:"",ctx:n}),s}function Qe(n,t,e){let l,s,a,i,c,o,d;_t(Ct,"userData"),pt(n,Ct,h=>e(5,i=h)),_t(St,"user"),pt(n,St,h=>e(19,c=h)),_t(wt,"page"),pt(n,wt,h=>e(6,d=h));let{$$slots:u={},$$scope:m}=t;oe("Page",u,[]);const b=["Twitter","YouTube","TikTok","LinkedIn","GitHub","Custom"],r={icon:"custom",title:"",url:"https://"},f=$t(r);_t(f,"formData"),pt(n,f,h=>e(2,o=h));let _=!1;function y(h){const k=h.detail,B=dt(ft,"users",c.uid);Zt(B,{links:k},{merge:!0})}async function j(h){const k=dt(ft,"users",c.uid);await bt(k,{links:Xt({...o,id:Date.now().toString()})}),f.set({icon:"",title:"",url:""}),e(3,_=!1)}async function x(h){const k=dt(ft,"users",c.uid);await bt(k,{links:Yt(h)})}async function q(h){const k=dt(ft,"users",c.uid);await bt(k,{published:!(i!=null&&i.published)})}function M(){f.set(r),e(3,_=!1)}const E=[];Object.keys(t).forEach(h=>{!~E.indexOf(h)&&h.slice(0,2)!=="$$"&&h!=="slot"&&console.warn(`<Page> was created with unknown prop '${h}'`)});const I=h=>x(h);function T(){o.icon=Ie(this),f.set(o),e(7,b)}function P(){o.title=this.value,f.set(o),e(7,b)}function K(){o.url=this.value,f.set(o),e(7,b)}const V=()=>e(3,_=!0);return n.$capture_state=()=>({page:wt,AuthCheck:xe,SortableList:be,UserLink:de,db:ft,userData:Ct,user:St,arrayRemove:Yt,arrayUnion:Xt,doc:dt,setDoc:Zt,updateDoc:bt,writable:$t,icons:b,formDefaults:r,formData:f,showForm:_,sortList:y,addLink:j,deleteLink:x,toggleProfileStatus:q,cancelLink:M,titleIsValid:s,urlIsValid:l,formIsValid:a,$userData:i,$user:c,$formData:o,$page:d}),n.$inject_state=h=>{"showForm"in h&&e(3,_=h.showForm),"titleIsValid"in h&&e(0,s=h.titleIsValid),"urlIsValid"in h&&e(1,l=h.urlIsValid),"formIsValid"in h&&e(4,a=h.formIsValid)},t&&"$$inject"in t&&n.$inject_state(t.$$inject),n.$$.update=()=>{n.$$.dirty&4&&e(1,l=o.url.match(/^(ftp|http|https):\/\/[^ "]+$/)),n.$$.dirty&4&&e(0,s=o.title.length<20&&o.title.length>0),n.$$.dirty&3&&e(4,a=l&&s)},[s,l,o,_,a,i,d,b,f,y,j,x,q,M,I,T,P,K,V]}class en extends le{constructor(t){super(t),ie(this,t,Qe,Ot,ne,{}),F("SvelteRegisterComponent",{component:this,tagName:"Page",options:t,id:Ot.name})}}export{en as component};
